##############################################
# Player decisions: Automatic Title Automanagement
# Provides enable/disable decisions for auto-create/grant duchies and kingdoms.
# Enable decisions shown when flag is off; disable when on.
##############################################

riseandfall_enable_auto_create_duchies = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 10
    ai_check_interval = 0
    desc = riseandfall_enable_auto_create_duchies_desc
    selection_tooltip = riseandfall_enable_auto_create_duchies_tooltip
    decision_group_type = riseandfall

    is_shown = { NOT = { has_character_flag = riseandfall_auto_create_duchies } }

    is_valid = { is_landed = yes }

    effect = { add_character_flag = { flag = riseandfall_auto_create_duchies } }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_disable_auto_create_duchies = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 11
    ai_check_interval = 0
    desc = riseandfall_disable_auto_create_duchies_desc
    selection_tooltip = riseandfall_disable_auto_create_duchies_tooltip
    decision_group_type = riseandfall

    is_shown = { has_character_flag = riseandfall_auto_create_duchies }

    is_valid = { is_landed = yes }

    effect = { remove_character_flag = riseandfall_auto_create_duchies }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_enable_auto_create_kingdoms = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 12
    ai_check_interval = 0
    desc = riseandfall_enable_auto_create_kingdoms_desc
    selection_tooltip = riseandfall_enable_auto_create_kingdoms_tooltip
    decision_group_type = riseandfall

    is_shown = { NOT = { has_character_flag = riseandfall_auto_create_kingdoms } }

    is_valid = { is_landed = yes }

    effect = { add_character_flag = { flag = riseandfall_auto_create_kingdoms } }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_disable_auto_create_kingdoms = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 13
    ai_check_interval = 0
    desc = riseandfall_disable_auto_create_kingdoms_desc
    selection_tooltip = riseandfall_disable_auto_create_kingdoms_tooltip
    decision_group_type = riseandfall

    is_shown = { has_character_flag = riseandfall_auto_create_kingdoms }

    is_valid = { is_landed = yes }

    effect = { remove_character_flag = riseandfall_auto_create_kingdoms }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_enable_auto_grant_duchy = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 14
    ai_check_interval = 0
    desc = riseandfall_enable_auto_grant_duchy_desc
    selection_tooltip = riseandfall_enable_auto_grant_duchy_tooltip
    decision_group_type = riseandfall

    is_shown = { NOT = { has_character_flag = riseandfall_auto_grant_duchy_title } }

    is_valid = { is_landed = yes }

    effect = { add_character_flag = { flag = riseandfall_auto_grant_duchy_title } }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_disable_auto_grant_duchy = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 15
    ai_check_interval = 0
    desc = riseandfall_disable_auto_grant_duchy_desc
    selection_tooltip = riseandfall_disable_auto_grant_duchy_tooltip
    decision_group_type = riseandfall

    is_shown = { has_character_flag = riseandfall_auto_grant_duchy_title }

    is_valid = { is_landed = yes }

    effect = { remove_character_flag = riseandfall_auto_grant_duchy_title }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_enable_auto_grant_kingdom = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 16
    ai_check_interval = 0
    desc = riseandfall_enable_auto_grant_kingdom_desc
    selection_tooltip = riseandfall_enable_auto_grant_kingdom_tooltip
    decision_group_type = riseandfall

    is_shown = { NOT = { has_character_flag = riseandfall_auto_grant_kingdom_title } }

    is_valid = { is_landed = yes }

    effect = { add_character_flag = { flag = riseandfall_auto_grant_kingdom_title } }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_disable_auto_grant_kingdom = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 17
    ai_check_interval = 0
    desc = riseandfall_disable_auto_grant_kingdom_desc
    selection_tooltip = riseandfall_disable_auto_grant_kingdom_tooltip
    decision_group_type = riseandfall

    is_shown = { has_character_flag = riseandfall_auto_grant_kingdom_title }

    is_valid = { is_landed = yes }

    effect = { remove_character_flag = riseandfall_auto_grant_kingdom_title }

    ai_potential = {}
    ai_will_do = { base = 0 }
}

riseandfall_grant_surplus_counties = {
    picture = { reference = "gfx/interface/illustrations/decisions/decision_misc.dds" }
    sort_order = 18
    ai_check_interval = 12
    desc = riseandfall_grant_counties_desc
    selection_tooltip = riseandfall_grant_counties_desc
    decision_group_type = riseandfall

    is_shown = { is_landed = yes }

    is_valid = { is_landed = yes }

    effect = { riseandfall_grant_counties_se = yes }

    # AI: only consider this decision if AI and they're over the domain limit
    # domain_limit_available is negative when above the limit; this AI check wants strongly over the limit
    ai_potential = { domain_limit_available < -20 }

    # Make AI very likely to pick this when ai_potential is true
    ai_will_do = { base = 100 }
}
