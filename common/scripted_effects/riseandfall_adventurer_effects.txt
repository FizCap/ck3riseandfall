riseandfall_check_dynasty_for_adventurers_se = {
    # Expecting character scope (independent ruler). Check their dynasty members.
    dynasty = {
        every_dynasty_member = {
            limit = {
                is_landed = no
                is_alive = yes
                NOT = { has_government = landless_adventurer_government }
                age >= 16
                any_claim = { tier >= tier_kingdom }
            }
            riseandfall_turn_into_adventurer_se = yes
        }
    }
}

riseandfall_turn_into_adventurer_se = {
    random_list = {
        5 = {  # 5% chance to become adventurer
            save_scope_as = adventurer_child
            create_adventurer_title = {
                name = riseandfall_adventurer_title_name
                holder = scope:adventurer_child
                save_scope_as = created_adventurer_title
            }
            # Set camp law on the created adventurer's camp
            scope:adventurer_child = {
                add_realm_law = camp_purpose_legitimists
                # Scale starting gold & income modifier based on the tier of the claim the new adventurer holds
                # If they have an empire-level claim -> large, kingdom-level -> medium, otherwise small
                if = {
                    limit = { any_claim = { tier >= tier_empire } }
                    add_gold = 8000
                    add_character_modifier = { modifier = riseandfall_adventurer_power_large }
                }
                else_if = {
                    limit = { any_claim = { tier >= tier_kingdom } }
                    add_gold = 4000
                    add_character_modifier = { modifier = riseandfall_adventurer_power_medium }
                }
                else = {
                    add_gold = 1000 # baseline for lower-tier claims
                    add_character_modifier = { modifier = riseandfall_adventurer_gold_mod }
                }
            }
        }
        95 = {
            # Nothing happens in this branch
        }
    }
}

# Removes the adventurer gold modifier if the character is no longer a landless adventurer
riseandfall_remove_adventurer_gold_mod_if_not_landless_se = {
    # expects character scope
    if = {
        limit = {
            NOT = { has_government = landless_adventurer_government }
        }
    remove_character_modifier = riseandfall_adventurer_gold_mod
    remove_character_modifier = riseandfall_adventurer_power_medium
    remove_character_modifier = riseandfall_adventurer_power_large
    }
}
