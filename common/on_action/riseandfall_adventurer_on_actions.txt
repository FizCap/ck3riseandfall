yearly_global_pulse = {
    on_actions = {
    riseandfall_yearly_adventurer
    riseandfall_yearly_remove_adventurer_gold_mod
    riseandfall_yearly_maa_limit_increase
    }
}

riseandfall_yearly_maa_limit_increase = {
    effect = {
        every_ruler = {
            limit = {
                NOT = { has_character_modifier = riseandfall_yearly_maa_limit_increase_effect }
            }
            riseandfall_yearly_maa_limit_increase_effect = yes
        }
    }
}

riseandfall_yearly_adventurer = {
    effect = {
        every_independent_ruler = {
            save_scope_as = independent_ruler
            riseandfall_check_dynasty_for_adventurers_se = yes
        }
    }
}

# Find every character with the adventurer gold modifier and run the removal check
riseandfall_yearly_remove_adventurer_gold_mod = {
    effect = {
        every_ruler = {
            limit = {
                OR = {
                    has_character_modifier = riseandfall_adventurer_gold_mod
                    has_character_modifier = riseandfall_adventurer_power_medium
                    has_character_modifier = riseandfall_adventurer_power_large
                }
            }
            riseandfall_remove_adventurer_gold_mod_if_not_landless_se = yes
        }
    }
}
